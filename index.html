<style>
    .rsvp-container {
        max-width: 450px;
        margin: 20px auto;
        padding: 30px;
        background-color: #fdfaf3; /* קרם בהיר בהתאם להזמנה */
        border: 1px solid #e2d1a7; /* מסגרת זהובה עדינה */
        font-family: 'Assistant', sans-serif;
        direction: rtl;
        text-align: center;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    }

    .rsvp-container h2 {
        color: #b89c5a; /* זהב מההזמנה */
        font-size: 28px;
        margin-bottom: 20px;
    }

    .rsvp-form input, .rsvp-form select, .rsvp-form textarea {
        width: 100%;
        padding: 12px;
        margin: 10px 0;
        border: 1px solid #dcdcdc;
        border-radius: 4px;
        font-size: 16px;
        box-sizing: border-box;
    }

    .rsvp-form button {
        background-color: #333; /* שחור/כהה כמו בטקסט השמות */
        color: white;
        border: none;
        padding: 15px 30px;
        font-size: 18px;
        cursor: pointer;
        border-radius: 4px;
        width: 100%;
        transition: 0.3s;
    }

    .rsvp-form button:hover {
        background-color: #b89c5a;
    }

    #result {
        display: none;
        margin-top: 20px;
        padding: 20px;
        color: #4a7c44;
        font-weight: bold;
        font-size: 20px;
    }
</style>

<div class="rsvp-container">
    <div id="form-content">
        <h2>אישור הגעה - פדיון הבן</h2>
        <p>נשמח לראותכם בין אורחינו!</p>
        
        <form id="rsvp-form" action="https://api.web3forms.com/submit" method="POST" class="rsvp-form">
            <input type="hidden" name="access_key" value="bedeadac-9a95-47b9-a298-61939aecc631">
            
            <input type="text" name="name" placeholder="שם מלא" required>
            
            <select name="attending" required>
                <option value="" disabled selected>האם תגיעו?</option>
                <option value="כן">כן, נגיע בשמחה!</option>
                <option value="לא">לצערי לא נוכל להגיע</option>
            </select>

            <input type="number" name="adults" placeholder="מספר מבוגרים" min="0">
            <input type="number" name="children" placeholder="מספר ילדים" min="0">
            
            <textarea name="message" rows="3" placeholder="הערות (אלרגיות, צמחוני וכו')"></textarea>

            <button type="submit" id="submit-btn">שלח אישור</button>
        </form>
    </div>

    <div id="result"></div>
</div>

<script>
    const form = document.getElementById('rsvp-form');
    const result = document.getElementById('result');
    const formContent = document.getElementById('form-content');

    form.addEventListener('submit', function(e) {
        e.preventDefault();
        const formData = new FormData(form);
        const object = Object.fromEntries(formData);
        const json = JSON.stringify(object);

        result.innerHTML = "שולח אישור... נא להמתין";
        result.style.display = "block";
        formContent.style.display = "none";

        fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: json
            })
            .then(async (response) => {
                let resJson = await response.json();
                if (response.status == 200) {
                    result.innerHTML = "תודה רבה! אישור ההגעה התקבל בהצלחה. נתראה בשמחה!";
                } else {
                    result.innerHTML = "חלה שגיאה: " + resJson.message;
                    formContent.style.display = "block";
                }
            })
            .catch(error => {
                result.innerHTML = "משהו השתבש, אנא נסו שוב מאוחר יותר.";
                formContent.style.display = "block";
            });
    });
</script>
